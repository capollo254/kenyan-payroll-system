{"ast":null,"code":"import _objectSpread from\"C:/Users/Code_AI/Documents/Bloom HR and Payroll/kenyan-payroll-system/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// src/components/forms/AddEmployeeForm.js\nimport React,{useState}from'react';import InputField from'../common/InputField';import Button from'../common/Button';import{createEmployee}from'../../api/employees';/**\r\n * A form component for adding a new employee.\r\n * @param {object} props - Component props.\r\n * @param {function} props.onEmployeeAdded - Callback function to run on successful form submission.\r\n * @param {function} props.onCancel - Callback function to cancel the form.\r\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AddEmployeeForm=_ref=>{let{onEmployeeAdded,onCancel}=_ref;const[formData,setFormData]=useState({user:{email:'',password:''},first_name:'',last_name:'',id_number:'',kra_pin:'',nssf_number:'',nhif_number:'',phone_number:'',basic_salary:'',is_admin:false// Default to false\n});const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const handleChange=e=>{const{name,value,type,checked}=e.target;if(name==='email'||name==='password'){setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{user:_objectSpread(_objectSpread({},prev.user),{},{[name]:value})}));}else{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:type==='checkbox'?checked:value}));}};const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError(null);try{await createEmployee(formData);onEmployeeAdded();}catch(err){console.error('Error adding employee:',err);setError('Failed to add employee. Please check the data.');}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Add New Employee\"}),/*#__PURE__*/_jsx(InputField,{label:\"Email\",type:\"email\",name:\"email\",value:formData.user.email,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(InputField,{label:\"Password\",type:\"password\",name:\"password\",value:formData.user.password,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(InputField,{label:\"First Name\",name:\"first_name\",value:formData.first_name,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(InputField,{label:\"Last Name\",name:\"last_name\",value:formData.last_name,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(InputField,{label:\"ID Number\",name:\"id_number\",value:formData.id_number,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(InputField,{label:\"KRA PIN\",name:\"kra_pin\",value:formData.kra_pin,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(InputField,{label:\"NSSF Number\",name:\"nssf_number\",value:formData.nssf_number,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(InputField,{label:\"NHIF Number\",name:\"nhif_number\",value:formData.nhif_number,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(InputField,{label:\"Phone Number\",name:\"phone_number\",value:formData.phone_number,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(InputField,{label:\"Basic Salary\",type:\"number\",name:\"basic_salary\",value:formData.basic_salary,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"is_admin\",checked:formData.is_admin,onChange:handleChange}),\"Is Admin\"]})}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px'},children:[/*#__PURE__*/_jsx(Button,{className:\"btn-success\",type:\"submit\",disabled:loading,children:loading?'Adding...':'Add Employee'}),/*#__PURE__*/_jsx(Button,{type:\"button\",onClick:onCancel,children:\"Cancel\"})]})]});};export default AddEmployeeForm;","map":{"version":3,"names":["React","useState","InputField","Button","createEmployee","jsx","_jsx","jsxs","_jsxs","AddEmployeeForm","_ref","onEmployeeAdded","onCancel","formData","setFormData","user","email","password","first_name","last_name","id_number","kra_pin","nssf_number","nhif_number","phone_number","basic_salary","is_admin","loading","setLoading","error","setError","handleChange","e","name","value","type","checked","target","prev","_objectSpread","handleSubmit","preventDefault","err","console","onSubmit","className","children","label","onChange","required","style","display","gap","disabled","onClick"],"sources":["C:/Users/Code_AI/Documents/Bloom HR and Payroll/kenyan-payroll-system/frontend/src/components/forms/AddEmployeeForm.js"],"sourcesContent":["// src/components/forms/AddEmployeeForm.js\r\n\r\nimport React, { useState } from 'react';\r\nimport InputField from '../common/InputField';\r\nimport Button from '../common/Button';\r\nimport { createEmployee } from '../../api/employees';\r\n\r\n/**\r\n * A form component for adding a new employee.\r\n * @param {object} props - Component props.\r\n * @param {function} props.onEmployeeAdded - Callback function to run on successful form submission.\r\n * @param {function} props.onCancel - Callback function to cancel the form.\r\n */\r\nconst AddEmployeeForm = ({ onEmployeeAdded, onCancel }) => {\r\n  const [formData, setFormData] = useState({\r\n    user: {\r\n      email: '',\r\n      password: '',\r\n    },\r\n    first_name: '',\r\n    last_name: '',\r\n    id_number: '',\r\n    kra_pin: '',\r\n    nssf_number: '',\r\n    nhif_number: '',\r\n    phone_number: '',\r\n    basic_salary: '',\r\n    is_admin: false, // Default to false\r\n  });\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n    if (name === 'email' || name === 'password') {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        user: { ...prev.user, [name]: value }\r\n      }));\r\n    } else {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        [name]: type === 'checkbox' ? checked : value\r\n      }));\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      await createEmployee(formData);\r\n      onEmployeeAdded();\r\n    } catch (err) {\r\n      console.error('Error adding employee:', err);\r\n      setError('Failed to add employee. Please check the data.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"card\">\r\n      <h2>Add New Employee</h2>\r\n      <InputField label=\"Email\" type=\"email\" name=\"email\" value={formData.user.email} onChange={handleChange} required />\r\n      <InputField label=\"Password\" type=\"password\" name=\"password\" value={formData.user.password} onChange={handleChange} required />\r\n      <InputField label=\"First Name\" name=\"first_name\" value={formData.first_name} onChange={handleChange} required />\r\n      <InputField label=\"Last Name\" name=\"last_name\" value={formData.last_name} onChange={handleChange} required />\r\n      <InputField label=\"ID Number\" name=\"id_number\" value={formData.id_number} onChange={handleChange} required />\r\n      <InputField label=\"KRA PIN\" name=\"kra_pin\" value={formData.kra_pin} onChange={handleChange} required />\r\n      <InputField label=\"NSSF Number\" name=\"nssf_number\" value={formData.nssf_number} onChange={handleChange} required />\r\n      <InputField label=\"NHIF Number\" name=\"nhif_number\" value={formData.nhif_number} onChange={handleChange} required />\r\n      <InputField label=\"Phone Number\" name=\"phone_number\" value={formData.phone_number} onChange={handleChange} required />\r\n      <InputField label=\"Basic Salary\" type=\"number\" name=\"basic_salary\" value={formData.basic_salary} onChange={handleChange} required />\r\n      <div className=\"form-group\">\r\n        <label>\r\n          <input\r\n            type=\"checkbox\"\r\n            name=\"is_admin\"\r\n            checked={formData.is_admin}\r\n            onChange={handleChange}\r\n          />\r\n          Is Admin\r\n        </label>\r\n      </div>\r\n      {error && <p className=\"error\">{error}</p>}\r\n      <div style={{ display: 'flex', gap: '10px' }}>\r\n        <Button className=\"btn-success\" type=\"submit\" disabled={loading}>\r\n          {loading ? 'Adding...' : 'Add Employee'}\r\n        </Button>\r\n        <Button type=\"button\" onClick={onCancel}>Cancel</Button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default AddEmployeeForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
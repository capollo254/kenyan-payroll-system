{"ast":null,"code":"// src/pages/employee/MyP9ReportsPage.js\nimport React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{getMyP9Reports,generateP9,downloadP9PDF,getPayslipSummary}from'../../api/p9';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MyP9ReportsPage=()=>{const[p9Reports,setP9Reports]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[generating,setGenerating]=useState(false);const[selectedYear,setSelectedYear]=useState(new Date().getFullYear());const[payslipSummary,setPayslipSummary]=useState(null);const navigate=useNavigate();const fetchP9Reports=async()=>{try{setLoading(true);const data=await getMyP9Reports();setP9Reports(data.results||data);setError(null);}catch(err){console.error('Failed to fetch P9 reports:',err);if(err.message.includes('401')||err.message.includes('unauthorized')){localStorage.removeItem('token');localStorage.removeItem('role');navigate('/login');}setError('Failed to load P9 reports. Please try again.');}finally{setLoading(false);}};useEffect(()=>{fetchP9Reports();},[]);// eslint-disable-line react-hooks/exhaustive-deps\nconst handleGenerateP9=async()=>{try{setGenerating(true);setError(null);// First check payslip data for the year\ntry{const summary=await getPayslipSummary(selectedYear);setPayslipSummary(summary);if(summary.total_payslips===0){setError(\"No payslip data found for \".concat(selectedYear,\". P9 cannot be generated without payroll data.\"));return;}}catch(summaryError){console.warn('Could not fetch payslip summary:',summaryError);}// Generate P9\nawait generateP9(selectedYear);// Refresh the list\nawait fetchP9Reports();alert(\"P9 report for \".concat(selectedYear,\" has been generated successfully!\"));}catch(err){console.error('Failed to generate P9:',err);setError(\"Failed to generate P9 for \".concat(selectedYear,\": \").concat(err.message));}finally{setGenerating(false);}};const handleDownloadPDF=async(p9Id,taxYear)=>{try{await downloadP9PDF(p9Id);}catch(err){console.error('Failed to download PDF:',err);alert('Failed to download P9 PDF. Please try again.');}};const getAvailableYears=()=>{const currentYear=new Date().getFullYear();const years=[];for(let year=currentYear;year>=currentYear-5;year--){years.push(year);}return years;};const formatCurrency=amount=>{return new Intl.NumberFormat('en-KE',{style:'currency',currency:'KES',minimumFractionDigits:2}).format(amount||0);};const formatDate=dateString=>{return new Date(dateString).toLocaleDateString('en-GB');};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"container page\",children:/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:'40px'},children:/*#__PURE__*/_jsx(\"h3\",{children:\"Loading P9 Tax Reports...\"})})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container page\",children:[/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'30px'},children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"My P9 Tax Forms\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'var(--text-muted)',margin:'5px 0'},children:\"Access and generate your annual P9 tax certificates\"})]})}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-error\",style:{marginBottom:'20px'},children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{marginBottom:'30px'},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Generate New P9 Report\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'15px',marginTop:'15px',flexWrap:'wrap'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"year-select\",style:{display:'block',marginBottom:'5px',fontWeight:'bold'},children:\"Select Tax Year:\"}),/*#__PURE__*/_jsx(\"select\",{id:\"year-select\",value:selectedYear,onChange:e=>setSelectedYear(parseInt(e.target.value)),style:{padding:'8px 12px',borderRadius:'4px',border:'1px solid var(--border-color)',fontSize:'14px'},children:getAvailableYears().map(year=>/*#__PURE__*/_jsx(\"option\",{value:year,children:year},year))})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleGenerateP9,disabled:generating,className:\"btn btn-primary\",style:{alignSelf:'flex-end'},children:generating?'Generating...':\"Generate P9 for \".concat(selectedYear)})]}),payslipSummary&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'15px',padding:'15px',backgroundColor:'var(--card-background)',borderRadius:'4px',border:'1px solid var(--border-color)'},children:[/*#__PURE__*/_jsxs(\"h4\",{style:{margin:'0 0 10px 0'},children:[\"Payroll Data Summary for \",selectedYear,\":\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(200px, 1fr))',gap:'10px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Total Payslips:\"}),\" \",payslipSummary.total_payslips]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Gross Pay:\"}),\" \",formatCurrency(payslipSummary.total_gross_pay)]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"PAYE Tax:\"}),\" \",formatCurrency(payslipSummary.total_paye_tax)]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"NSSF Contributions:\"}),\" \",formatCurrency(payslipSummary.total_nssf)]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Your P9 Reports\"}),p9Reports.length===0?/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'40px',color:'var(--text-muted)'},children:[/*#__PURE__*/_jsx(\"h4\",{children:\"No P9 Reports Available\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Generate your first P9 report using the form above.\"})]}):/*#__PURE__*/_jsx(\"div\",{style:{overflowX:'auto'},children:/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Tax Year\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Generated Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Gross Pay\"}),/*#__PURE__*/_jsx(\"th\",{children:\"PAYE Tax\"}),/*#__PURE__*/_jsx(\"th\",{children:\"NSSF Contribution\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Chargeable Pay\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:p9Reports.map(report=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"strong\",{children:report.tax_year})}),/*#__PURE__*/_jsx(\"td\",{children:formatDate(report.created_at)}),/*#__PURE__*/_jsx(\"td\",{children:formatCurrency(report.total_gross_pay)}),/*#__PURE__*/_jsx(\"td\",{children:formatCurrency(report.total_paye_tax)}),/*#__PURE__*/_jsx(\"td\",{children:formatCurrency(report.total_nssf_contribution)}),/*#__PURE__*/_jsx(\"td\",{children:formatCurrency(report.chargeable_pay)}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',gap:'8px'},children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDownloadPDF(report.id,report.tax_year),className:\"btn btn-primary btn-sm\",title:\"Download as PDF\",children:\"\\uD83D\\uDCC4 Download PDF\"})})})]},report.id))})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{marginTop:'20px'},children:[/*#__PURE__*/_jsx(\"h4\",{children:\"About P9 Tax Forms\"}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'var(--text-muted)',lineHeight:'1.6'},children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"What is a P9 Form?\"}),\" The P9 form is an annual tax certificate that shows your total income, tax deductions, and other statutory contributions for a specific tax year.\"]}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"Required for tax compliance and filing returns with KRA\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Shows breakdown of monthly gross pay, PAYE tax, and NSSF contributions\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Includes personal relief and other tax benefits\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Valid for loan applications and visa processes\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Need Help?\"}),\" If you cannot find a P9 for a specific year or notice discrepancies, please contact the HR department.\"]})]})]})]});};export default MyP9ReportsPage;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","getMyP9Reports","generateP9","downloadP9PDF","getPayslipSummary","jsx","_jsx","jsxs","_jsxs","MyP9ReportsPage","p9Reports","setP9Reports","loading","setLoading","error","setError","generating","setGenerating","selectedYear","setSelectedYear","Date","getFullYear","payslipSummary","setPayslipSummary","navigate","fetchP9Reports","data","results","err","console","message","includes","localStorage","removeItem","handleGenerateP9","summary","total_payslips","concat","summaryError","warn","alert","handleDownloadPDF","p9Id","taxYear","getAvailableYears","currentYear","years","year","push","formatCurrency","amount","Intl","NumberFormat","style","currency","minimumFractionDigits","format","formatDate","dateString","toLocaleDateString","className","children","textAlign","padding","display","justifyContent","alignItems","marginBottom","color","margin","gap","marginTop","flexWrap","htmlFor","fontWeight","id","value","onChange","e","parseInt","target","borderRadius","border","fontSize","map","onClick","disabled","alignSelf","backgroundColor","gridTemplateColumns","total_gross_pay","total_paye_tax","total_nssf","length","overflowX","report","tax_year","created_at","total_nssf_contribution","chargeable_pay","title","lineHeight"],"sources":["C:/Users/Code_AI/Documents/Bloom HR and Payroll/kenyan-payroll-system/frontend/src/pages/employee/MyP9ReportsPage.js"],"sourcesContent":["// src/pages/employee/MyP9ReportsPage.js\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { getMyP9Reports, generateP9, downloadP9PDF, getPayslipSummary } from '../../api/p9';\r\n\r\nconst MyP9ReportsPage = () => {\r\n  const [p9Reports, setP9Reports] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [generating, setGenerating] = useState(false);\r\n  const [selectedYear, setSelectedYear] = useState(new Date().getFullYear());\r\n  const [payslipSummary, setPayslipSummary] = useState(null);\r\n  const navigate = useNavigate();\r\n\r\n  const fetchP9Reports = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const data = await getMyP9Reports();\r\n      setP9Reports(data.results || data);\r\n      setError(null);\r\n    } catch (err) {\r\n      console.error('Failed to fetch P9 reports:', err);\r\n      if (err.message.includes('401') || err.message.includes('unauthorized')) {\r\n        localStorage.removeItem('token');\r\n        localStorage.removeItem('role');\r\n        navigate('/login');\r\n      }\r\n      setError('Failed to load P9 reports. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchP9Reports();\r\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  const handleGenerateP9 = async () => {\r\n    try {\r\n      setGenerating(true);\r\n      setError(null);\r\n\r\n      // First check payslip data for the year\r\n      try {\r\n        const summary = await getPayslipSummary(selectedYear);\r\n        setPayslipSummary(summary);\r\n\r\n        if (summary.total_payslips === 0) {\r\n          setError(`No payslip data found for ${selectedYear}. P9 cannot be generated without payroll data.`);\r\n          return;\r\n        }\r\n      } catch (summaryError) {\r\n        console.warn('Could not fetch payslip summary:', summaryError);\r\n      }\r\n\r\n      // Generate P9\r\n      await generateP9(selectedYear);\r\n      \r\n      // Refresh the list\r\n      await fetchP9Reports();\r\n      \r\n      alert(`P9 report for ${selectedYear} has been generated successfully!`);\r\n    } catch (err) {\r\n      console.error('Failed to generate P9:', err);\r\n      setError(`Failed to generate P9 for ${selectedYear}: ${err.message}`);\r\n    } finally {\r\n      setGenerating(false);\r\n    }\r\n  };\r\n\r\n  const handleDownloadPDF = async (p9Id, taxYear) => {\r\n    try {\r\n      await downloadP9PDF(p9Id);\r\n    } catch (err) {\r\n      console.error('Failed to download PDF:', err);\r\n      alert('Failed to download P9 PDF. Please try again.');\r\n    }\r\n  };\r\n\r\n  const getAvailableYears = () => {\r\n    const currentYear = new Date().getFullYear();\r\n    const years = [];\r\n    for (let year = currentYear; year >= currentYear - 5; year--) {\r\n      years.push(year);\r\n    }\r\n    return years;\r\n  };\r\n\r\n  const formatCurrency = (amount) => {\r\n    return new Intl.NumberFormat('en-KE', {\r\n      style: 'currency',\r\n      currency: 'KES',\r\n      minimumFractionDigits: 2,\r\n    }).format(amount || 0);\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    return new Date(dateString).toLocaleDateString('en-GB');\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"container page\">\r\n        <div style={{ textAlign: 'center', padding: '40px' }}>\r\n          <h3>Loading P9 Tax Reports...</h3>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"container page\">\r\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '30px' }}>\r\n        <div>\r\n          <h2>My P9 Tax Forms</h2>\r\n          <p style={{ color: 'var(--text-muted)', margin: '5px 0' }}>\r\n            Access and generate your annual P9 tax certificates\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {error && (\r\n        <div className=\"alert alert-error\" style={{ marginBottom: '20px' }}>\r\n          {error}\r\n        </div>\r\n      )}\r\n\r\n      {/* Generate P9 Section */}\r\n      <div className=\"card\" style={{ marginBottom: '30px' }}>\r\n        <h3>Generate New P9 Report</h3>\r\n        <div style={{ display: 'flex', alignItems: 'center', gap: '15px', marginTop: '15px', flexWrap: 'wrap' }}>\r\n          <div>\r\n            <label htmlFor=\"year-select\" style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\r\n              Select Tax Year:\r\n            </label>\r\n            <select\r\n              id=\"year-select\"\r\n              value={selectedYear}\r\n              onChange={(e) => setSelectedYear(parseInt(e.target.value))}\r\n              style={{ \r\n                padding: '8px 12px', \r\n                borderRadius: '4px', \r\n                border: '1px solid var(--border-color)',\r\n                fontSize: '14px'\r\n              }}\r\n            >\r\n              {getAvailableYears().map(year => (\r\n                <option key={year} value={year}>{year}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          \r\n          <button\r\n            onClick={handleGenerateP9}\r\n            disabled={generating}\r\n            className=\"btn btn-primary\"\r\n            style={{ alignSelf: 'flex-end' }}\r\n          >\r\n            {generating ? 'Generating...' : `Generate P9 for ${selectedYear}`}\r\n          </button>\r\n        </div>\r\n\r\n        {payslipSummary && (\r\n          <div style={{ \r\n            marginTop: '15px', \r\n            padding: '15px', \r\n            backgroundColor: 'var(--card-background)', \r\n            borderRadius: '4px',\r\n            border: '1px solid var(--border-color)'\r\n          }}>\r\n            <h4 style={{ margin: '0 0 10px 0' }}>Payroll Data Summary for {selectedYear}:</h4>\r\n            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '10px' }}>\r\n              <div><strong>Total Payslips:</strong> {payslipSummary.total_payslips}</div>\r\n              <div><strong>Gross Pay:</strong> {formatCurrency(payslipSummary.total_gross_pay)}</div>\r\n              <div><strong>PAYE Tax:</strong> {formatCurrency(payslipSummary.total_paye_tax)}</div>\r\n              <div><strong>NSSF Contributions:</strong> {formatCurrency(payslipSummary.total_nssf)}</div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Existing P9 Reports */}\r\n      <div className=\"card\">\r\n        <h3>Your P9 Reports</h3>\r\n        \r\n        {p9Reports.length === 0 ? (\r\n          <div style={{ textAlign: 'center', padding: '40px', color: 'var(--text-muted)' }}>\r\n            <h4>No P9 Reports Available</h4>\r\n            <p>Generate your first P9 report using the form above.</p>\r\n          </div>\r\n        ) : (\r\n          <div style={{ overflowX: 'auto' }}>\r\n            <table className=\"table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Tax Year</th>\r\n                  <th>Generated Date</th>\r\n                  <th>Gross Pay</th>\r\n                  <th>PAYE Tax</th>\r\n                  <th>NSSF Contribution</th>\r\n                  <th>Chargeable Pay</th>\r\n                  <th>Actions</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {p9Reports.map((report) => (\r\n                  <tr key={report.id}>\r\n                    <td>\r\n                      <strong>{report.tax_year}</strong>\r\n                    </td>\r\n                    <td>{formatDate(report.created_at)}</td>\r\n                    <td>{formatCurrency(report.total_gross_pay)}</td>\r\n                    <td>{formatCurrency(report.total_paye_tax)}</td>\r\n                    <td>{formatCurrency(report.total_nssf_contribution)}</td>\r\n                    <td>{formatCurrency(report.chargeable_pay)}</td>\r\n                    <td>\r\n                      <div style={{ display: 'flex', gap: '8px' }}>\r\n                        <button\r\n                          onClick={() => handleDownloadPDF(report.id, report.tax_year)}\r\n                          className=\"btn btn-primary btn-sm\"\r\n                          title=\"Download as PDF\"\r\n                        >\r\n                          📄 Download PDF\r\n                        </button>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Information Section */}\r\n      <div className=\"card\" style={{ marginTop: '20px' }}>\r\n        <h4>About P9 Tax Forms</h4>\r\n        <div style={{ color: 'var(--text-muted)', lineHeight: '1.6' }}>\r\n          <p>\r\n            <strong>What is a P9 Form?</strong> The P9 form is an annual tax certificate that shows your total income, \r\n            tax deductions, and other statutory contributions for a specific tax year.\r\n          </p>\r\n          <ul>\r\n            <li>Required for tax compliance and filing returns with KRA</li>\r\n            <li>Shows breakdown of monthly gross pay, PAYE tax, and NSSF contributions</li>\r\n            <li>Includes personal relief and other tax benefits</li>\r\n            <li>Valid for loan applications and visa processes</li>\r\n          </ul>\r\n          <p>\r\n            <strong>Need Help?</strong> If you cannot find a P9 for a specific year or notice discrepancies, \r\n            please contact the HR department.\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyP9ReportsPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}